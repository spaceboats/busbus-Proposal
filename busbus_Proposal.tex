\documentclass[12pt]{article}
\usepackage[letterpaper]{geometry}
\usepackage{fullpage}
\usepackage[hidelinks]{hyperref}
\usepackage{fancyvrb}
\usepackage{color}
\usepackage{textcomp}

\title{EECS 581 Senior Design Capstone Project Proposal \\
busbus: All transit data, one interface}
\author{Nick Gilliland, Alex Gustafson, Zane Ralston, Monica Shafii, Ian Weller \\ \url{spaceboats.github.io}}

\setlength{\parindent}{0.0in}
\setlength{\parskip}{0.125in}


\begin{document}
\maketitle

\section{Abstract}

The spaceboats senior design group is developing a common platform for accessing mass-transit data
across multiple agencies with different APIs and data formats.
We intend to demonstrate the desired functionality (a convenient open-source data tool
for developers) by building projects on top of the platform, such as a web application, an Android app, and
an LED board that shows data about upcoming buses.

\section{Specific Aims}

The busbus platform aims to provide a Python API and web API for developers to access
mass-transit data, both static and realtime (where available), from all existing agencies worldwide
under a common interface.
The platform will be open source and freely licensed, so developers can create new and exciting projects
with simple access to open transit data, as well as extend support in busbus for new transit agencies.
The goal is for
developers to be able to focus on their applications instead of putting a considerable amount of
effort into how to access specific information from each agency's API, or how to transform
the returned data into a consistent format.

\section{Existing Transit Data Work}
There are a lot of existing standards and services built around transit data.
However, none of them simplify the process for developers of dealing with multiple transit agencies.

It's important to note that the busbus platform is \textit{not} attempting to be a new transit data standard ---
we want to leverage existing APIs and make them more easily accessible for programmers.

\subsection{Current Standards}
The General Transit Feed Specification (GTFS)\footnote{Google, \url{https://developers.google.com/transit/gtfs/}}
developed by Google and TriMet in 2005, has become the industry standard for static transit data.
The data is designed to be readable by anything --- simple CSV files in a Zip archive ---
but in practice, \textit{using} the data is more difficult compared to a relational database
or an object-oriented API.

In addition, GTFS doesn't have realtime data. GTFS-realtime is a specification built to add
realtime data, but it's not widely used. The larger North American transit agencies provide
data in this format but also their own, richer realtime data APIs.

\subsection{Agency-Specific APIs}

Numerous agency-specific APIs exist for mass-transit in metropolitan areas on a global scale.
These may be sufficient if one is only looking to create an application with a local scope. However,
as developers, our goal is to write code as a foundation to be built upon, that is not bound by a
limited scope, but is useful to our peers and prevents the cost of effort put into the same 
problem again and again. In referencing even a few of the existing agency-specific APIs, it
becomes apparent that the data that can be accessed, and the format of the data returned, 
vary greatly. The CTA Bus Tracker API provides vehicle locations, route data, prediction data and 
service bulletins and returns this data in XML and other formats.\footnote{Chicago Transit Authority (CTA), \textit{Bus Tracker API Documentation},
\url{http://www.transitchicago.com/assets/1/developer\_center/BusTime\_Developer\_API\_Guide.pdf}} The MBTA Real-Time API provides
stops by location, routes by stop, predictions by stop, alert headers, and alerts by id, and returns 
this data in XML and JSON formats.\footnote{Massachusetts Bay Transit Authority (MBTA), \textit{MBTA-Realltime Quick-Start Guide},
\url{http://realtime.mbta.com/Portal/Content/Documents/MBTA-realtime\_APIQuickStart\_2014-08-04.pdf}}

\subsection{Multi-Agency APIs/Apps}
There exist APIs/services that attempt to unify access to data over agency-specific APIs.
However, these generally either encompass a limited number of agencies, a limited scope
of mass-transit available, or are not open APIs at all. The NextBus API only provides data for
around 50 agencies within the U.S. and Canada, and for the most part, only provides bus data 
and not data for other forms of transportation.\footnote{NextBus, \textit{API Portal}, \url{http://api-portal.anypoint.mulesoft.com/nextbus/api/nextbus-api}} The Transit App covers data for 200+ agencies
and 86 global metropolitan areas, but doesn't provide an open API for developers to retrieve the
data, but rather an application.\footnote{Transit App, \textit{Regions}, \url{http://thetransitapp.com/regions}}


\section{Proposed Solution/Preliminary Design}
\subsection{API}
Our proposed project will be a Python API which allows the user to iterate over entities matching a filter.
We currently intend to include entities for \textit{agencies}, \textit{routes}, \textit{stops}, and \textit{arrivals}.
Each entity will provide all the data busbus knows about --- for instance, an Arrival can have both scheduled
and live arrival times.

The API is still in flux, but we're intending to have it look something like this:

\input{sample_code.tex}

\subsection{Projects}
We intend to build the following projects on top of the busbus platform:
\begin{itemize}
\item LED board\\
    The LED board is 3 smaller LED boards and a Raspberry Pi that controls them.  They are all on a peace of plexiglass that has been attached to the wall with a chain.  To display text or an image you can give it a JSON string and it will parse it to display what you tell it to. An example of the json that is used to make the board a solid color is curl -X POST -H "Content-type:application/json" -d '{"mode":"fill", "color":[0, 0, 255]}' http://3001-ledboard.local:8080/state; echo To integrate this into our project we will have it show data that we will be getting from busbus.  This will allow us to have it show different information about any stop in the world (that busbus supports). A useful application of this would be that would be useful would be we could have it show the next bus that would stop outside Eaton Hall.
\item Web application
\item Android application\\
    The Android application will allow users to either select a stop or find bus stops near them using gps location.
    Once users have found the stop that they want, they will be able to view upcoming scheduled arrival times and
    predicted realtime bus arrivals if realtime data is available for that transit agency. Users will also be able
    to save stops so that the stops that they use frequently will be readily available. Ease of use is important
    for showing off the capability of the busbus platform so a high quality user interface will be a priority.
    Development of this application will be done using Android Studio. The Android Application will most likely never
    be put on the Google Play store because it would require us to host a service, which is outside the scope of this
    project. At this time we plan to only support Android version 4.4 and later to help speed up development time.

\end{itemize}
We want to show our API works as intended, and possibly
fine-tune it in the process --- in a sense, these are some of our test cases. We also want
to demonstrate the actual application of the tool we are building, and how our peers
could possibly use it.

\section{Milestones/Schedule}
**INCLUDE GANTT CHART**

\section{Tools/Cost Estimate}
\subsection{Tools and language}
The busbus platform will support Python 2.7 and Python 3.3 or later. We're most likely utilizing the following
libraries and modules:
\begin{itemize}
\item requests (proper HTTP handling)
\item arrow (proper timezone handling)
\item CherryPy (for the web server)
\item gevent (for asynchronous message handling, so data consumers can subscribe to events
without having to make repeated API calls)
\end{itemize}

\subsection{Hardware}
The only hardware we are using is for the LED board project as follows, with a final cost of approximately \$230.
\begin{itemize}
\item Raspberry Pi Model B+ 512MB RAM (\$39.95)
\item Raspberry Pi B+ Frosted White Enclosure (\$8.95)
\item SD/MicroSD Memory Card (4 GB SDHC) (\$7.95)
\item 5V 1A (1000mA) USB port power supply - UL Listed (\$5.95)
\item USB cable - A/MicroB (\$3.95)
\item Assembled Pi Cobbler Plus - Breakout Cable for Raspberry Pi B+ (\$6.95)
\item Medium 16x32 RGB LED matrix panel Ã— 3 at \$24.95 each (\$74.85)
\item 5V 10A switching power supply (\$25.00)
\item Female DC Power adapter - 2.1mm jack to screw terminal block (\$2.00)
\item Mounting hardware (approx. \$55.00)
\end{itemize}


\end{document}
