\documentclass[12pt]{article}
\usepackage[letterpaper]{geometry}
\usepackage{fullpage}
\usepackage[hidelinks]{hyperref}
\usepackage{fancyvrb}
\usepackage{color}
\usepackage{textcomp}

\title{EECS 581 Senior Design Capstone Project Proposal \\
busbus: All transit data, one interface}
\author{Nick Gilliland, Alex Gustafson, Zane Ralston, Monica Shafii, Ian Weller \\ \url{spaceboats.github.io}}

\setlength{\parindent}{0.0in}
\setlength{\parskip}{0.125in}


\begin{document}
\maketitle

\section{Abstract}

The spaceboats senior design group is developing a common API for accessing mass-transit data
across multiple agencies in which both the APIs and the data are provided in a multitude ways.
With this API, the aim is to demonstrate the desired functionality (a convenient open-source tool 
for developers) by building projects on top of the platform, such as a web and mobile app, and 
feeding data into an LED board for display.

\section{Specific Aims}

The busbus platform aims to provide a single, open API for developers to use to be able to access all
mass-transit data --- both static and live where available --- from all existing agencies on a global scale.
With a public repository on GitHub, developers can feel free to extend upon the API as needed,
along with creating new and exciting projects with the ease of access to open data. The goal is for
developers to be able to focus on their applications instead of putting a considerable amount of
effort into how to access specific information differently in each agency's API, or how to transform
the returned data so it will all be of a consistent format.

\section{Background (Existing Work)}
\subsection{Existing Transit Data Standards}
The General Transit Feed Specification (GTFS)\footnote{Google, \url{https://developers.google.com/transit/gtfs/}}
developed by Google and TriMet in 2005, has become the industry standard for static transit data.
The data is designed to be readable by anything --- simple CSV files in a Zip archive ---
but in practice, \textit{using} the data is more difficult compared to a relational database
or an object-oriented API.

In addition, GTFS doesn't have realtime data. GTFS-realtime is a specification built to add
realtime data, but it's not widely used. The larger North American transit agencies provide
data in this format but also their own, richer realtime data APIs.

It's important to note that the busbus platform is \textit{not} attempting to be a new transit data standard ---
we want to leverage existing APIs and make them more easily accessible for programmers.

\subsection{Agency-Specific APIs}

Numerous agency-specific APIs exist for mass-transit in metropolitan areas on a global scale.
These may be sufficient if one is only looking to create an application with a local scope. However,
as developers, our goal is to write code as a foundation to be built upon, that is not bound by a
limited scope, but is useful to our peers and prevents the cost of effort put into the same 
problem again and again. In referencing even a few of the existing agency-specific APIs, it
becomes apparent that the data that can be accessed, and the format of the data returned, 
vary greatly. The CTA Bus Tracker API provides vehicle locations, route data, prediction data and 
service bulletins and returns this data in XML and other formats.\footnote{Chicago Transit Authority (CTA), \textit{Bus Tracker API Documentation},
\url{http://www.transitchicago.com/assets/1/developer\_center/BusTime\_Developer\_API\_Guide.pdf}} The MBTA Real-Time API provides
stops by location, routes by stop, predictions by stop, alert headers, and alerts by id, and returns 
this data in XML and JSON formats.\footnote{Massachusetts Bay Transit Authority (MBTA), \textit{MBTA-Realltime Quick-Start Guide},
\url{http://realtime.mbta.com/Portal/Content/Documents/MBTA-realtime\_APIQuickStart\_2014-08-04.pdf}}

\subsection{Multi-Agency APIs/Apps}
There exist APIs/services that attempt to unify access to data over agency-specific APIs.
However, these generally either encompass a limited number of agencies, a limited scope
of mass-transit available, or are not open APIs at all. The NextBus API only provides data for
around 50 agencies within the U.S. and Canada, and for the most part, only provides bus data 
and not data for other forms of transportation.\footnote{NextBus, \textit{API Portal}, \url{http://api-portal.anypoint.mulesoft.com/nextbus/api/nextbus-api}} The Transit App covers data for 200+ agencies
and 86 global metropolitan areas, but doesn't provide an open API for developers to retrieve the
data, but rather an application.\footnote{Transit App, \textit{Regions}, \url{http://thetransitapp.com/regions}}


\section{Proposed Solution/Preliminary Design}
\subsection{API}
Our proposed project will be a Python API which allows the user to iterate over entities matching a filter.
We currently intend to include entities for \textit{agencies}, \textit{routes}, \textit{stops}, and \textit{arrivals}.
Each entity will provide all the data busbus knows about --- for instance, an Arrival can have both scheduled
and live arrival times.

The API is still in flux, but we're intending to have it look something like this:

\input{sample_code.tex}

\subsection{Projects}
We intend to build the following projects on top of the busbus platform:
\begin{itemize}
\item LED board
\item Web application
\item Android application
\end{itemize}
We want to show our API works as intended, and possibly
fine-tune it in the process --- in a sense, these are some of our test cases. We also want
to demonstrate the actual application of the tool we are building, and how our peers
could possibly use it.

\section{Milestones/Schedule}
**INCLUDE GANTT CHART**

\section{Tools/Cost Estimate}
\subsection{Tools and language}
The busbus platform will support Python 2.7 and Python 3.3 or later. We're most likely utilizing the following
libraries and modules:
\begin{itemize}
\item requests (proper HTTP handling)
\item arrow (proper timezone handling)
\item CherryPy (for the web server)
\item gevent (for asynchronous message handling, so data consumers can subscribe to events
without having to make repeated API calls)
\end{itemize}

\subsection{Hardware}
The only hardware we are using is for the LED board project as follows, with a final cost of approximately \$230.
\begin{itemize}
\item Raspberry Pi Model B+ 512MB RAM (\$39.95)
\item Raspberry Pi B+ Frosted White Enclosure (\$8.95)
\item SD/MicroSD Memory Card (4 GB SDHC) (\$7.95)
\item 5V 1A (1000mA) USB port power supply - UL Listed (\$5.95)
\item USB cable - A/MicroB (\$3.95)
\item Assembled Pi Cobbler Plus - Breakout Cable for Raspberry Pi B+ (\$6.95)
\item Medium 16x32 RGB LED matrix panel Ã— 3 at \$24.95 each (\$74.85)
\item 5V 10A switching power supply (\$25.00)
\item Female DC Power adapter - 2.1mm jack to screw terminal block (\$2.00)
\item Mounting hardware (approx. \$55.00)
\end{itemize}


\end{document}
